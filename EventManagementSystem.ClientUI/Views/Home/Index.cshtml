@model HomeIndexVM

@{
	ViewData["Title"] = "Home Page";
}

<section class="relative h-[600px] overflow-hidden animate-fadeIn">
	<div style="background-image: url('https://public.readdy.ai/ai/img_res/cdf07a0e8700a86b91dd5e3d00edbeb2.jpg');" class="absolute inset-0 bg-cover bg-center transform scale-105 animate-pulse" style="animation-duration: 20s;"></div>
	<div class="absolute inset-0 bg-gradient-to-r from-gray-900/80 to-gray-900/40"></div>

	<div class="container mx-auto px-4 h-full flex items-center relative z-10">
		<div class="max-w-2xl animate-slideUp" style="animation-delay: 0.3s;">
			<h1 class="text-5xl font-bold text-white mb-6 leading-tight">Discover and Explore Amazing Events</h1>
			<p class="text-xl text-gray-100 mb-8">Find the best events, seminars, and masterclasses happening near you. Explore details and join by invitation.</p>

			<div class="bg-white/10 backdrop-blur-md p-6 rounded-lg border border-white/20">
				<div class="flex flex-wrap gap-4 mb-4">
					<button class="px-5 py-2.5 bg-white text-primary font-medium !rounded-button whitespace-nowrap">All</button>
					@if (Model.EventTypes != null)
					{
						@foreach (var eventType in Model.EventTypes)
						{
							<button class="px-5 py-2.5 bg-white/20 text-white font-medium !rounded-button whitespace-nowrap hover:bg-white/30 transition-colors">@eventType.Name</button>
						}
					}
				</div>

				<div class="flex flex-wrap gap-4">
					<div class="flex-1 min-w-[200px]">
						<div class="relative">
							<input type="text" placeholder="Location" class="w-full pl-10 pr-4 py-3 rounded border-none focus:outline-none focus:ring-2 focus:ring-primary text-sm">
							<div class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center text-gray-400">
								<i class="ri-map-pin-line"></i>
							</div>
						</div>
					</div>
					<div class="flex-1 min-w-[200px]">
						<div class="relative">
							<input type="text" placeholder="Date" class="w-full pl-10 pr-4 py-3 rounded border-none focus:outline-none focus:ring-2 focus:ring-primary text-sm">
							<div class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center text-gray-400">
								<i class="ri-calendar-line"></i>
							</div>
						</div>
					</div>
					<button class="px-6 py-3 bg-primary text-white font-medium !rounded-button whitespace-nowrap hover:bg-primary/90 transition-colors">Search</button>
				</div>
			</div>
		</div>
	</div>
</section>


<section class="py-16 bg-white">
	<div class="container mx-auto px-4">
		<div class="text-center mb-12 animate-slideUp">
			<h2 class="text-3xl font-bold mb-4">Browse by Category</h2>
			<p class="text-gray-600 max-w-2xl mx-auto">Discover events and experiences tailored to your interests. From conferences to masterclasses, we've got you covered.</p>
		</div>

		<div class="grid grid-cols-2 md:grid-cols-4 gap-6">
			@if (Model.EventTypes != null && Model.EventTypes.Any())
			{
				@foreach (var category in Model.EventTypes)
				{
					<a asp-controller="EventTypes" asp-action="Details" asp-route-id="@category.Id" class="category-card bg-white rounded-lg shadow-md overflow-hidden block transform transition-transform duration-300 hover:scale-105 hover:shadow-lg">
						<div class="h-40 bg-gray-100 flex items-center justify-center">
							<div class="w-20 h-20 flex items-center justify-center text-gray-500">
								<i class="ri-calendar-event-line text-5xl"></i>
							</div>
						</div>
						<div class="p-4 text-center">
							<h3 class="font-semibold text-lg mb-1">@category.Name</h3>
							<p class="text-gray-600 text-sm">@category.EventCount events</p>
						</div>
					</a>
				}
			}
			else
			{
				<p class="col-span-full text-center text-gray-600">No event categories available.</p>
			}
		</div>
	</div>
</section>

<section class="py-16 bg-gray-50">
	<div class="container mx-auto px-4">
		<div class="flex justify-between items-center mb-10">
			<div>
				<h2 class="text-3xl font-bold mb-2">Featured Events</h2>
				<p class="text-gray-600">Discover the most popular events happening this month</p>
			</div>

			<div class="flex space-x-2 bg-white rounded-full p-1 shadow-sm">
				<button class="px-4 py-2 bg-primary text-white rounded-full whitespace-nowrap">All</button>
				<button class="px-4 py-2 text-gray-700 rounded-full whitespace-nowrap hover:bg-gray-100 transition-colors">Today</button>
				<button class="px-4 py-2 text-gray-700 rounded-full whitespace-nowrap hover:bg-gray-100 transition-colors">This Weekend</button>
				<button class="px-4 py-2 text-gray-700 rounded-full whitespace-nowrap hover:bg-gray-100 transition-colors">This Month</button>
			</div>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
			@if (Model.Events != null && Model.Events.Any())
			{
				@foreach (var singleEvent in Model.Events)
				{
					<div class="event-card bg-white rounded-lg shadow-md overflow-hidden">
						<div class="relative h-56 overflow-hidden">
							<img src="@singleEvent.MainPhotoUrl" alt="@singleEvent.Title Event" class="event-image w-full h-full object-cover object-top">
							<div class="absolute top-3 left-3
				             @{
						                    string tagColorClass = "bg-primary";
						                    if (singleEvent.EventTypeName != null)
						                    {
								                            switch (singleEvent.EventTypeName.ToLower())
								                            {
										                                    case "conference": // Adjusted for common event types
												                                            tagColorClass = "bg-purple-600";
												                                            break;
										                                    case "seminar":
												                                            tagColorClass = "bg-blue-500";
												                                            break;
										                                    case "bootcamp":
												                                            tagColorClass = "bg-green-500";
												                                            break;
										                                    case "masterclass":
												                                            tagColorClass = "bg-red-500";
												                                            break;
										                                    default:
												                                            tagColorClass = "bg-primary";
												                                            break;
								                    }
						                    }
				            }
				            text-white text-sm font-medium px-3 py-1 rounded-full">
								@singleEvent.EventTypeName
							</div>
						</div>
						<div class="p-6">
							<div class="flex justify-between items-start mb-3">
								<h3 class="text-xl font-bold">@singleEvent.Title</h3>
							</div>
							<div class="flex items-center text-gray-500 mb-5 text-sm">
								<div class="w-4 h-4 flex items-center justify-center mr-2">
									<i class="ri-map-pin-line"></i>
								</div>
								<span>@singleEvent.LocationName</span>
							</div>
							@* Removed Price, Date, and Time as they are not in EventListVM and direct booking is not the flow *@
							<a asp-controller="Events" asp-action="Details" asp-route-id="@singleEvent.Id" class="w-full py-3 bg-primary text-white font-medium !rounded-button whitespace-nowrap hover:bg-primary/90 transition-colors text-center block">View Details</a>
						</div>
					</div>
				}
			}
			else
			{
				<p class="col-span-full text-center text-gray-600">No featured events available at the moment.</p>
			}
		</div>

		<div class="text-center mt-12">
			<a asp-controller="Events" asp-action="Index" class="px-6 py-3 border border-primary text-primary font-medium !rounded-button whitespace-nowrap hover:bg-primary hover:text-white transition-colors">View All Events</a>
		</div>
	</div>
</section>